"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7186],{7186:(S,C,d)=>{d.r(C),d.d(C,{HomePageModule:()=>w});var m=d(2200),i=d(9893),h=d(4341),g=d(467),l=d(3035),t=d(3664),u=d(2615),f=d(5248);function j(a,r){if(1&a){const s=t.RV6();t.j41(0,"ion-button",11),t.bIt("click",function(){const n=u.eBV(s).$implicit,o=t.XpG();return u.Njj(o.selectedIcon=n)}),t.nrm(1,"ion-icon",12),t.k0s()}if(2&a){const s=r.$implicit,e=t.XpG();t.Y8G("fill",e.selectedIcon===s?"solid":"clear")("color",e.selectedIcon===s?"primary":""),t.R7$(),t.Y8G("name",s)}}function M(a,r){if(1&a){const s=t.RV6();t.j41(0,"ion-button",13),t.bIt("click",function(){const n=u.eBV(s).$implicit,o=t.XpG();return u.Njj(o.selectedColor=n)}),t.k0s()}if(2&a){const s=r.$implicit,e=t.XpG();t.Y8G("color",s)("fill",e.selectedColor===s?"solid":"outline")}}let I=(()=>{var a;class r{constructor(e,n,o){this.modalCtrl=e,this.storageService=n,this.toastCtrl=o,this.name="",this.selectedIcon=l.f2,this.selectedColor=l.bF,this.colors=l.Gv,this.icons=l.CS}ngOnInit(){}dismiss(){this.modalCtrl.dismiss(null,l.bO)}confirm(){var e=this;return(0,g.A)(function*(){if(!e.name||!e.name.trim())return void(yield(yield e.toastCtrl.create({message:l.Pl,duration:l.vr,position:l.gI,color:l.Gh})).present());const n={title:e.name,tasks:[],completed:0,color:e.selectedColor,icon:e.selectedIcon};e.modalCtrl.dismiss(n,l.wS),yield e.storageService.addCategory(n),e.modalCtrl.dismiss(n,l.wS)})()}static#t=a=()=>(this.\u0275fac=function(n){return new(n||r)(t.rXU(i.W3),t.rXU(f.n),t.rXU(i.K_))},this.\u0275cmp=t.VBU({type:r,selectors:[["app-new-category-modal"]],decls:22,vars:3,consts:[["translucent",""],["slot","end"],[3,"click"],[1,"ion-padding"],["position","stacked"],["placeholder","Ej: Compras, Ideas, Salud",3,"ngModelChange","ngModel"],[1,"icons-grid"],[3,"fill","color","click",4,"ngFor","ngForOf"],[1,"colors-grid"],["shape","round",3,"color","fill","click",4,"ngFor","ngForOf"],["expand","block",1,"ion-margin-top",3,"click"],[3,"click","fill","color"],[3,"name"],["shape","round",3,"click","color","fill"]],template:function(n,o){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Nueva Categor\xeda"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return o.dismiss()}),t.EFF(6,"Cerrar"),t.k0s()()()(),t.j41(7,"ion-content",3)(8,"ion-item")(9,"ion-label",4),t.EFF(10,"Nombre de la Categor\xeda"),t.k0s(),t.j41(11,"ion-input",5),t.mxI("ngModelChange",function(c){return t.DH7(o.name,c)||(o.name=c),c}),t.k0s()(),t.j41(12,"h3"),t.EFF(13,"Icono"),t.k0s(),t.j41(14,"div",6),t.DNE(15,j,2,3,"ion-button",7),t.k0s(),t.j41(16,"h3"),t.EFF(17,"Color"),t.k0s(),t.j41(18,"div",8),t.DNE(19,M,1,2,"ion-button",9),t.k0s(),t.j41(20,"ion-button",10),t.bIt("click",function(){return o.confirm()}),t.EFF(21," Crear Categor\xeda "),t.k0s()()),2&n&&(t.R7$(11),t.R50("ngModel",o.name),t.R7$(4),t.Y8G("ngForOf",o.icons),t.R7$(4),t.Y8G("ngForOf",o.colors))},dependencies:[i.bv,i.Jm,i.QW,i.W9,i.eU,i.iq,i.$w,i.uz,i.he,i.BC,i.ai,i.Gw,m.MD,m.Sq,h.YN,h.BC,h.vS],styles:[".icons-grid[_ngcontent-%COMP%], .colors-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0}"]}))}return a(),r})();var y=d(7055),B=d(5964),G=d(9702);function T(a,r){if(1&a){const s=t.RV6();t.j41(0,"ion-searchbar",1),t.bIt("ionInput",function(n){u.eBV(s);const o=t.XpG();return u.Njj(o.onChange(n))}),t.k0s()}if(2&a){const s=t.XpG();t.Y8G("placeholder",s.placeholder)("value",s.value)}}let v=(()=>{var a;class r{constructor(e){this.featureFlag=e,this.placeholder=l.T$,this.value="",this.valueChange=new t.bkB,this.searchBarEnabled=!1}ngOnInit(){var e=this;return(0,g.A)(function*(){e.searchBarEnabled=yield e.featureFlag.isFeatureEnabled(l.TD)})()}onChange(e){this.valueChange.emit(e.detail.value)}static#t=a=()=>(this.\u0275fac=function(n){return new(n||r)(t.rXU(G.B))},this.\u0275cmp=t.VBU({type:r,selectors:[["app-search-bar"]],inputs:{placeholder:"placeholder",value:"value"},outputs:{valueChange:"valueChange"},decls:1,vars:1,consts:[[3,"placeholder","value"],[3,"ionInput","placeholder","value"]],template:function(n,o){1&n&&t.nVh(0,T,1,2,"ion-searchbar",0),2&n&&t.vxM(o.searchBarEnabled?0:-1)},dependencies:[i.bv,i.S1,i.Gw,m.MD,h.YN],encapsulation:2}))}return a(),r})();const E=a=>({"background-color":a});let k=(()=>{var a;class r{constructor(){this.edit=new t.bkB}ngOnInit(){}get progress(){return this.tasks>0?this.completed/this.tasks:0}onEdit(e){e.stopPropagation(),this.edit.emit()}static#t=a=()=>(this.\u0275fac=function(n){return new(n||r)},this.\u0275cmp=t.VBU({type:r,selectors:[["app-category-card"]],inputs:{title:"title",tasks:"tasks",completed:"completed",color:"color",icon:"icon"},outputs:{edit:"edit"},decls:13,vars:12,consts:[[1,"category-card",3,"ngStyle"],[1,"header"],[1,"icon",3,"name"],["fill","clear","size","small","color","medium",3,"click"],["name","create-outline"],[3,"value","color"]],template:function(n,o){1&n&&(t.j41(0,"ion-card",0)(1,"ion-card-content")(2,"div",1),t.nrm(3,"ion-icon",2),t.j41(4,"h2"),t.EFF(5),t.k0s(),t.j41(6,"ion-button",3),t.bIt("click",function(c){return o.onEdit(c)}),t.nrm(7,"ion-icon",4),t.k0s()(),t.j41(8,"p"),t.EFF(9),t.k0s(),t.nrm(10,"ion-progress-bar",5),t.j41(11,"p"),t.EFF(12),t.k0s()()()),2&n&&(t.Y8G("ngStyle",t.eq3(10,E,o.color+"10")),t.R7$(3),t.xc7("color",o.color),t.Y8G("name",o.icon),t.R7$(2),t.JRh(o.title),t.R7$(4),t.SpI("",o.tasks," tareas"),t.R7$(),t.Y8G("value",o.progress)("color",o.color),t.R7$(2),t.Lme("",o.completed," de ",o.tasks," completadas"))},dependencies:[i.bv,i.Jm,i.b_,i.I9,i.iq,i.FH,m.MD,m.B3],styles:[".category-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 12px #00000014;margin:12px 0;padding:8px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.icon[_ngcontent-%COMP%]{font-size:24px}"]}))}return a(),r})();function O(a,r){if(1&a){const s=t.RV6();t.j41(0,"ion-item-sliding")(1,"ion-item",5),t.bIt("click",function(){const n=u.eBV(s).$implicit,o=t.XpG();return u.Njj(o.openCategory(n))}),t.j41(2,"app-category-card",7),t.bIt("edit",function(){const n=u.eBV(s).index,o=t.XpG();return u.Njj(o.editCategory(n))}),t.EFF(3," > "),t.k0s()(),t.j41(4,"ion-item-options",8)(5,"ion-item-option",9),t.bIt("click",function(){const n=u.eBV(s).index,o=t.XpG();return u.Njj(o.deleteCategory(n))}),t.nrm(6,"ion-icon",10),t.EFF(7," Eliminar "),t.k0s()()()}if(2&a){const s=r.$implicit;t.R7$(2),t.Y8G("title",s.title)("tasks",s.total??s.tasks.length)("completed",s.completed)("color",s.color)("icon",s.icon)}}let b=(()=>{var a;class r{constructor(e,n,o,p){this.modalCtrl=e,this.router=n,this.storageService=o,this.alertCtrl=p,this.searchTerm="",this.categories=[],this.router.events.pipe((0,B.p)(c=>c instanceof y.wF)).subscribe(c=>{this.router.url===l.yZ&&this.loadCategories()})}ngOnInit(){var e=this;return(0,g.A)(function*(){e.loadCategories()})()}loadCategories(){var e=this;return(0,g.A)(function*(){const n=yield e.storageService.getCategories();e.categories=n.map(o=>({...o,total:o.total??(Array.isArray(o.tasks)?o.tasks.length:0),completed:o.completed??(Array.isArray(o.tasks)?o.tasks.filter(p=>p.completed).length:0)}))})()}get filteredCategories(){return this.searchTerm.trim()?this.categories.filter(e=>e.title.toLowerCase().includes(this.searchTerm.toLowerCase())):this.categories}openModal(){var e=this;return(0,g.A)(function*(){const n=yield e.modalCtrl.create({component:I});yield n.present();const{data:o,role:p}=yield n.onWillDismiss();if(p===l.wS&&o){const c={...o,total:o.total??(Array.isArray(o.tasks)?o.tasks.length:0),completed:o.completed??(Array.isArray(o.tasks)?o.tasks.filter(_=>_.completed).length:0)};e.categories.push(c),yield e.storageService.addCategory(c)}})()}deleteCategory(e){var n=this;return(0,g.A)(function*(){n.categories.splice(e,1),yield n.storageService.deleteCategory(e)})()}openCategory(e){this.router.navigate([l.VZ,e.title.toLowerCase()])}editCategory(e){var n=this;return(0,g.A)(function*(){const o=n.categories[e];var c;yield(yield n.alertCtrl.create({header:l.OO,inputs:[{name:l.fu,type:l.UL,value:o.title,placeholder:l.xu}],buttons:[{text:l.yo,role:l.bO},{text:l.W0,handler:(c=(0,g.A)(function*(_){return!!_.title.trim()&&(n.categories[e].title=_.title.trim(),yield n.storageService.updateCategory(e,n.categories[e]),!0)}),function(R){return c.apply(this,arguments)})}]})).present()})()}static#t=a=()=>(this.\u0275fac=function(n){return new(n||r)(t.rXU(i.W3),t.rXU(y.Ix),t.rXU(f.n),t.rXU(i.hG))},this.\u0275cmp=t.VBU({type:r,selectors:[["app-home"]],decls:11,vars:4,consts:[[3,"translucent"],[3,"fullscreen"],["placeholder","Buscar categor\xedas...",3,"valueChange","value"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],[3,"edit","title","tasks","completed","color","icon"],["side","end"],["color","danger",3,"click"],["name","trash"]],template:function(n,o){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," Todo-list "),t.k0s()()(),t.j41(4,"ion-content",1)(5,"app-search-bar",2),t.mxI("valueChange",function(c){return t.DH7(o.searchTerm,c)||(o.searchTerm=c),c}),t.k0s(),t.j41(6,"ion-list"),t.DNE(7,O,8,5,"ion-item-sliding",3),t.k0s(),t.j41(8,"ion-fab",4)(9,"ion-fab-button",5),t.bIt("click",function(){return o.openModal()}),t.nrm(10,"ion-icon",6),t.k0s()()()),2&n&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(),t.R50("value",o.searchTerm),t.R7$(2),t.Y8G("ngForOf",o.filteredCategories))},dependencies:[m.MD,m.Sq,h.YN,i.bv,i.W9,i.Q8,i.YW,i.eU,i.iq,i.uz,i.LU,i.CE,i.A7,i.nf,i.BC,i.ai,k,v],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}))}return a(),r})();var F=d(8132);const P=[{path:"",component:b}];let N=(()=>{var a;class r{static#t=a=()=>(this.\u0275fac=function(n){return new(n||r)},this.\u0275mod=t.$C({type:r}),this.\u0275inj=u.G2t({imports:[F.iI.forChild(P),F.iI]}))}return a(),r})(),w=(()=>{var a;class r{static#t=a=()=>(this.\u0275fac=function(n){return new(n||r)},this.\u0275mod=t.$C({type:r}),this.\u0275inj=u.G2t({imports:[m.MD,h.YN,i.bv,N,k,v,b]}))}return a(),r})()}}]);