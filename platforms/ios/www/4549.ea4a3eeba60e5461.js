"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4549],{4549:(b,p,r)=>{r.r(p),r.d(p,{CategoryDetailPageModule:()=>P});var g=r(2200),m=r(4341),n=r(9893),f=r(8132),h=r(467),u=r(3035),t=r(3664),c=r(2615),C=r(7055),y=r(5248),T=r(9702);const v=i=>({done:i});function _(i,o){if(1&i){const l=t.RV6();t.j41(0,"ion-button",9),t.bIt("click",function(){c.eBV(l);const a=t.XpG();return c.Njj(a.addTask())}),t.nrm(1,"ion-icon",10),t.k0s()}}function M(i,o){if(1&i){const l=t.RV6();t.j41(0,"ion-item-sliding")(1,"ion-item",11),t.bIt("click",function(){const a=c.eBV(l).$implicit,s=t.XpG();return c.Njj(s.toggleTask(a))}),t.nrm(2,"ion-icon",12),t.j41(3,"ion-label",13),t.EFF(4),t.k0s()(),t.j41(5,"ion-item-options",14)(6,"ion-item-option",15),t.bIt("click",function(){const a=c.eBV(l).index,s=t.XpG();return c.Njj(s.deleteTask(a))}),t.nrm(7,"ion-icon",16),t.k0s()()()}if(2&i){const l=o.$implicit;t.R7$(2),t.Y8G("name",l.completed?"checkmark-circle":"ellipse-outline")("color",l.completed?"success":"medium"),t.R7$(),t.Y8G("ngClass",t.eq3(4,v,l.completed)),t.R7$(),t.SpI(" ",l.title," ")}}const j=[{path:"",component:(()=>{var i;class o{constructor(e,a,s,k){this.route=e,this.storageService=a,this.toastCtrl=s,this.featureFlag=k,this.categoryName="",this.newTask="",this.tasks=[],this.searchTask="",this.buttonTaskEnable=!1,this.categoryName=this.route.snapshot.paramMap.get("id")??""}ngOnInit(){var e=this;return(0,h.A)(function*(){e.tasks=yield e.storageService.getTasks(e.categoryName),e.buttonTaskEnable=yield e.featureFlag.isFeatureEnabled(u.k2)})()}get completedCount(){return this.tasks.filter(e=>e.completed).length}addTask(){var e=this;return(0,h.A)(function*(){if(!e.newTask.trim())return void(yield(yield e.toastCtrl.create({message:u.__,duration:u.vr,color:u.Gh,position:u.gI})).present());const a={title:e.newTask.trim(),completed:!1};e.tasks.push(a),yield e.storageService.addTask(e.categoryName,a),e.newTask=""})()}toggleTask(e){var a=this;return(0,h.A)(function*(){e.completed=!e.completed,yield a.storageService.updateTasks(a.categoryName,a.tasks)})()}get filteredTasks(){return this.searchTask.trim()?this.tasks.filter(e=>e.title.toLowerCase().includes(this.searchTask.toLowerCase())):this.tasks}deleteTask(e){var a=this;return(0,h.A)(function*(){a.tasks.splice(e,1),yield a.storageService.updateTasks(a.categoryName,a.tasks)})()}static#t=i=()=>(this.\u0275fac=function(a){return new(a||o)(t.rXU(C.nX),t.rXU(y.n),t.rXU(n.K_),t.rXU(T.B))},this.\u0275cmp=t.VBU({type:o,selectors:[["app-category-detail"]],decls:16,vars:9,consts:[["translucent",""],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],["placeholder","Buscar tareas...",3,"ngModelChange","ngModel"],[1,"add-task"],["placeholder","A\xf1adir nueva tarea...",3,"ngModelChange","ngModel"],["shape","round"],[4,"ngFor","ngForOf"],["shape","round",3,"click"],["name","add"],[3,"click"],["slot","start",3,"name","color"],[3,"ngClass"],["side","end"],["color","danger",3,"click"],["slot","icon-only","name","trash"]],template:function(a,s){1&a&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.nrm(3,"ion-back-button",2),t.k0s(),t.j41(4,"ion-title"),t.EFF(5),t.nI1(6,"titlecase"),t.k0s()()(),t.j41(7,"ion-content",3)(8,"h2"),t.EFF(9),t.k0s(),t.j41(10,"ion-searchbar",4),t.mxI("ngModelChange",function(d){return t.DH7(s.searchTask,d)||(s.searchTask=d),d}),t.k0s(),t.j41(11,"div",5)(12,"ion-input",6),t.mxI("ngModelChange",function(d){return t.DH7(s.newTask,d)||(s.newTask=d),d}),t.k0s(),t.nVh(13,_,2,0,"ion-button",7),t.k0s(),t.j41(14,"ion-list"),t.DNE(15,M,8,6,"ion-item-sliding",8),t.k0s()()),2&a&&(t.R7$(5),t.JRh(t.bMT(6,7,s.categoryName)),t.R7$(4),t.Lme("",s.completedCount," de ",s.tasks.length," tareas completadas"),t.R7$(),t.R50("ngModel",s.searchTask),t.R7$(2),t.R50("ngModel",s.newTask),t.R7$(),t.vxM(s.buttonTaskEnable?13:-1),t.R7$(2),t.Y8G("ngForOf",s.filteredTasks))},dependencies:[n.bv,n.Jm,n.QW,n.W9,n.eU,n.iq,n.$w,n.uz,n.LU,n.CE,n.A7,n.he,n.nf,n.S1,n.BC,n.ai,n.Gw,n.el,g.MD,g.YU,g.Sq,m.YN,m.BC,m.vS,g.PV],styles:[".add-task[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:16px 0}.add-task[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex:1;border:1px solid #ddd;border-radius:8px;padding:6px 12px}.done[_ngcontent-%COMP%]{text-decoration:line-through;color:gray}"]}))}return i(),o})()}];let D=(()=>{var i;class o{static#t=i=()=>(this.\u0275fac=function(a){return new(a||o)},this.\u0275mod=t.$C({type:o}),this.\u0275inj=c.G2t({imports:[f.iI.forChild(j),f.iI]}))}return i(),o})(),P=(()=>{var i;class o{static#t=i=()=>(this.\u0275fac=function(a){return new(a||o)},this.\u0275mod=t.$C({type:o}),this.\u0275inj=c.G2t({imports:[g.MD,m.YN,n.bv,D]}))}return i(),o})()}}]);